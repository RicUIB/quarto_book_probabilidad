{
  "hash": "14692f6319542bee114e7b04fb60a58e",
  "result": {
    "markdown": "# Prerrequisitos: Teoría de conjuntos y combinatoria\n\nPara aprender cálculo de probabilidades son necesarios conocimientos de:\n\n1. Cálculo: derivadas, integrales, límites, sumas de series...\n2. Geometría básica y Álgebra Lineal : rectas, hiperplanos, volúmenes... Matrices, valores propios...\n3. Teoría de Conjuntos y Combinatoria.\n\nPor experiencia sabemos que  la mayoría de estudiantes tienen más conocimientos de  Cálculo, Geometría y Matrices. Sin embargo, muchos tienen  una falta de conocimientos  en Teoría básica de Conjuntos y Combinatoria (Matemática Discreta).\n\n\n##  Teoría de conjuntos\n\n<l class = \"definition\"> **Definición de conjunto** </l>\n\nLa definición de conjunto es una [idea o noción primitiva](https://es.wikipedia.org/wiki/Concepto_primitivo). Es decir, es una idea básica del pensamiento humano: un conjunto es una colección de objetos (números, imágenes, jugadores de fútbol, palabras, colores...).\n\n\nLa Teoría de Conjuntos básica es simple y natural y es la que necesitamos para este curso. Por otro lado, la Teoría de Conjuntos matemática es más compleja y presenta varias paradojas como la [paradoja de Russell](https://es.wikipedia.org/wiki/Paradoja_de_Russell).\n\n\nLa idea o noción práctica de conjunto es la de una  colección de objetos de un cierto tipo.\n\nEstas colecciones o  conjuntos se pueden definir por:\n\n* Compresión: reuniendo los objetos que cumplen una propiedad $p$\n* Extensión:  dando una lista exhaustiva de  los miembros del conjunto\n\n\n\n###  Conjuntos básicos\n\nLos  conjuntos suelen tener un conjunto madre como por ejemplo \n\n* $\\mathbb{N}=\\{0,1,2,\\ldots\\}$; los números naturales.\n* $\\mathbb{Z}=\\{\\ldots,-2,-1,0,1,2,\\ldots\\}$; los números enteros.\n* $\\mathbb{Q}=\\left\\{\\frac{p}{q}\\ \\Big|\\ p,q\\in \\mathbb{Z} \\mbox{ y } q \\not= 0\\right\\}$; los números racionales.\n* $\\mathbb{R}=\\{\\mbox{Todos los puntos de una recta}\\}$; los números reales.\n* $\\mathbb{C}= \\left\\{a+b\\cdot i\\  \\big|\\  a,b\\in \\mathbb{R}\\right\\}$; los números complejos.\n* Alfabeto = $\\{a,b,c,\\ldots, A,B,C,\\ldots\\}$\n* Palabras = $\\{paz, guerra, amor, probabilidad,\\ldots\\}$\n\nRecordemos que $i$ es la unidad imaginaria que satisface $i = +\\sqrt{-1}$.\n\n\n### Características y propiedades básicas de los conjuntos\n\n* A cada objeto  $x$ de  $\\Omega$ lo llamaremos **elemento del conjunto** $\\Omega$ y diremos que $x$ pertenece a $\\Omega$.  Lo denotaremos por $x\\in \\Omega$.\n* Un **conjunto de un elemento**, por ejemplo $\\{1\\}$, recibe el nombre de **conjunto elemental** (o **singleton** del inglés).\n* Sean $A$ y $B$ conjuntos, diremos que $A$ **es igual a** $B$  si todos los elementos $A$ están en $B$ y todos los elementos de $B$ están en $A$. Por ejemplo, $A=\\{1,2,3\\}$ es igual a $B=\\{3,1,2\\}$.\n* Si $A$ es un conjunto tal que  si $x\\in A$ entonces $x\\in B$, diremos que $A$ **es un subconjunto de** o que **está contenido en** $B$. Lo denotaremos por $A\\subseteq B.$\n* El conjunto  que no tiene elementos se denomina **conjunto vacío** y se denota por el símbolo $\\emptyset$.\n* Dado $A$ un conjunto cualquiera,  obviamente $\\emptyset\\subseteq A.$\n\nTomemos como conjunto base $\\Omega=\\{1,2,3\\}$\n\n* $\\Omega$ es un conjunto de cardinal 3, se denota por $\\#(\\Omega)=3$  o por $|\\Omega|=3$ \n*  El conjunto $\\Omega$ tiene  $2^3=8$ subconjuntos.\n   + El vacio $\\emptyset$ y los elementales $\\{1\\},\\{2\\},\\{3\\}$.\n   + Los subconjuntos de dos elementos: $\\{1,2\\},\\{1,3\\},\\{2,3\\}$.\n   + El conjunto total de tres elementos $\\Omega=\\{1,2,3\\}.$\n\nDado un conjunto $\\Omega$ podemos construir el **conjunto de todas sus partes** (todos sus subconjuntos) al que denotamos por $\\mathcal{P}(\\Omega)$. También se denomina de forma directa **partes de** $\\Omega$.\n\n\n<l class=\"prop\"> **Cardinal  de las partes de un conjunto** </l>\n\nEl cardinal de las partes de un conjunto  es $\\#(\\mathcal{P}(\\Omega))=2^{\\#(\\Omega)}.$\n\n\nPor ejemplo $\\#\\left(\\mathcal{P}(\\{1,2,3\\})\\right)=2^{\\#(\\{1,2,3\\})}=2^3=8.$\n\n\nEfectivamente,\n\n$$\\mathcal{P}(\\{1,2,3\\})=\\{\\emptyset,\\{1\\},\\{2\\},\\{3\\},\\{1,2\\},\\{1,3\\},\\{2,3\\},\\{1,2,3\\}\\}.$$\n\nDado un subconjunto $A$ de  $\\Omega$ podemos construir la **función característica** de $A$ \n$$\\chi_A:\\Omega \\to \\{0,1\\}$$\n\ndonde dado un $\\omega\\in \\Omega$ \n\n$$\n\\chi_A(\\omega)=\n\\left\\{\n\\begin{array}{ll}\n1 &  \\mbox{si }\\omega \\in A\\\\\n0 &  \\mbox{si }\\omega \\not\\in A\n\\end{array}\n\\right.\n$$\n\n\n### Operaciones con conjuntos\n\n\n**Intersección.**\n\nSea $\\Omega$ un conjunto y $A$ y $B$ dos subconjuntos de $\\Omega$.\n\nEl conjunto **intersección** de $A$ y $B$ es el formado por todos los elementos que pertenecen a $A$ **y** $B$. Se denota por $A\\cap B$.\n\nMás formalmente\n\n$$\nA\\cap B=\\left\\{x\\in\\Omega \\ \\big|\\  x\\in A \\mbox{ y } x\\in B\\right\\}.\n$$\n\n**Unión.**\n\nEl conjunto **unión** de $A$ y $B$ es el formado por todos los elementos que pertenecen a $A$ **o** que pertenecen a $B$. Se denota por $A\\cup B$.\n\n\nMás formalmente\n\n$$\nA\\cup B=\\left\\{x\\in\\Omega\\ \\big|\\  x\\in A \\mbox{ o } x\\in B\\right\\}.\n$$\n\n**Diferencia.**\n\nEl conjunto **diferencia** de $A$ y $B$ es el formado por todos los elementos que pertenecen a $A$ **y no** pertenecen a $B$. Se denota por $A-B=A-(A\\cap B)$.\n\nMás formalmente\n\n$$\nA- B=\\left\\{x\\in\\Omega \\ \\big|\\ x\\in A \\mbox{ y } x\\notin B\\right\\}.\n$$\n\n\n**Complementario**\n\nEl **complementario** de un  subconjunto  $A$ de $\\Omega$ es $\\Omega-A$ y se denota por $A^c$ o $\\bar{A}$.\n\nMás formalmente\n\n$$\nA^c=\\left\\{x\\in\\Omega \\ \\big|\\  x\\not\\in A\\right\\}.\n$$\n\n\n### Más propiedades y definiciones\n\nSea $\\Omega$ un conjunto y $A$, $B$, $C$ tres subconjuntos de $\\Omega$\n\n* Se dice que dos conjuntos $A$ y $B$ **son disjuntos** si $A\\cap B=\\emptyset.$\n* $\\Omega^c=\\emptyset$.\n* $\\emptyset^c=\\Omega$.\n* $A\\cup B=B \\cup A$ , $A\\cap B=B\\cap A$ (propiedad conmutativa).\n* $(A\\cup B) \\cup C = A \\cup( B \\cup C)$ , $(A\\cap B) \\cap C = A \\cap( B \\cap C)$ (propiedad asociativa).\n* $A\\cup (B\\cap C)=(A\\cup B) \\cap (A\\cup C)$ , $A\\cap (B\\cup C)=(A\\cap B) \\cup (A\\cap C)$ (propiedad distributiva).\n* $\\left(A^c\\right)^c=A$ (doble complementario).\n* $\\left(A\\cup B\\right)^c=A^c \\cap B^c$, $\\left(A\\cap B\\right)^c=A^c \\cup B^c$ ([leyes de De Morgan](https://es.wikipedia.org/wiki/Leyes_de_De_Morgan)).\n\n\n### Con `R`, ejemplos\n\nCon `R`, los conjuntos de pueden definir como vectores\n\n\n::: {.cell}\n\n```{.r .cell-code}\n(Omega = c(1,2,3,4,5,6,7,8,9,10))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1]  1  2  3  4  5  6  7  8  9 10\n```\n:::\n\n```{.r .cell-code}\n(A = c(1,2,3,4,5))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1 2 3 4 5\n```\n:::\n\n```{.r .cell-code}\n(B = c(1,4,5))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1 4 5\n```\n:::\n\n```{.r .cell-code}\n(C = c(4,6,7,8))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 4 6 7 8\n```\n:::\n:::\n\n$A\\cap B$\n\n\n::: {.cell}\n\n```{.r .cell-code}\nintersect(A,B)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1 4 5\n```\n:::\n:::\n\n\n$A\\cup B$\n\n\n::: {.cell}\n\n```{.r .cell-code}\nunion(A,B)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1 2 3 4 5\n```\n:::\n:::\n\n\n$B-C$\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsetdiff(B,C)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1 5\n```\n:::\n:::\n\n\n$A^c=\\Omega-A$\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsetdiff(Omega,A)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1]  6  7  8  9 10\n```\n:::\n:::\n\n\n\n### Con `Python`, ejemplos\n\n\n::: {.cell}\n\n```{.python .cell-code}\nOmega = set([1,2,3,4,5,6,7,8,9,10])\nOmega\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n{1, 2, 3, 4, 5, 6, 7, 8, 9, 10}\n```\n:::\n\n```{.python .cell-code}\nA = set([1,2,3,4,5])\nA\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n{1, 2, 3, 4, 5}\n```\n:::\n\n```{.python .cell-code}\nB = set([1,4,5])\nB\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n{1, 4, 5}\n```\n:::\n\n```{.python .cell-code}\nC = set([4,6,7,8])\nC\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n{8, 4, 6, 7}\n```\n:::\n\n```{.python .cell-code}\nA & B   ## intersección (&: and/y)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n{1, 4, 5}\n```\n:::\n\n```{.python .cell-code}\nA | B   ## unión (|: or/o)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n{1, 2, 3, 4, 5}\n```\n:::\n\n```{.python .cell-code}\nA - C   ## diferencia \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n{1, 2, 3, 5}\n```\n:::\n\n```{.python .cell-code}\nOmega-C ## complementario\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n{1, 2, 3, 5, 9, 10}\n```\n:::\n:::\n\n\n\n\n## Combinatoria\n\nLa combinatoria es una rama de la Matemática Discreta que, entre otras cosas, cuenta distintas configuraciones de objetos de un conjunto.\n\nPor ejemplo, si tenemos un equipo  de baloncesto con  7 jugadores ¿cuántos equipos de 5 jugadores distintos podemos formar?\n\n### Combinaciones\n\n**Número combinatorio o número binomial**\n\nNos da el número de subconjuntos de tamaño $k$ de un conjunto de tamaño $n$. Este número es\n\n$$\nC_n^k={n\\choose k} = \\frac{n!}{k!\\cdot (n-k)!}.\n$$\n\nRecordemos que \n$$\nn!=1\\cdot 2\\cdot 3\\cdots n\n$$\n\nEn nuestro caso  con 7 jugadores, $n=7$,   el número de equipos distintos de $k=5$ es\n\n$$\n\\begin{array}{rl}\nC_7^5&={7\\choose 5} = \\frac{7!}{5!\\cdot (7-5)!}=\\frac{7!}{5!\\cdot 2!} \\\\\n&=\\frac{1\\cdot 2\\cdot 3 \\cdot 4\\cdot 5\\cdot 6\\cdot 7}{1\\cdot 2\\cdot 3 \\cdot 4\\cdot 5\\cdot 1\\cdot 2}=\\frac{6\\cdot 7}{2}=\\frac{42}{2}=21.\n\\end{array}\n$$\n\n\nPodemos formar 21 equipos distintos.\n\n<div class=\"exercise\">\n**Ejercicio**\n\nCarga el paquete `gtools` de `R` e investiga la función `combinations(n, r, v, set, repeats.allowed)` para calcular todas las combinaciones anteriores.\n</div>\n\n### Combinaciones con repetición\n\nEn combinatoria, las combinaciones con repetición de un conjunto son las distintas formas en que se puede hacer una selección de elementos de un conjunto dado, permitiendo que las selecciones puedan repetirse.\n\nEl número $CR_n^k$ de multiconjuntos con $k$ elementos escogidos de un conjunto con $n$ elementos satisface:\n\n* Es igual al número de combinaciones con repetición de $k$ elementos escogidos de un conjunto con $n$ elementos.\n* Es igual al número de formas de repartir $k$ objetos en $n$ grupos.\n\n$$CR_n^k = \\binom{n+k-1}{k} = \\frac{(n+k-1)!}{k!(n-1)!}.$$\n\n\n<div class = \"example\">\n**Ejemplo**\n\nVamos a imaginar que vamos a repartir 12 caramelos entre Antonio, Beatriz, Carlos y Dionisio (que representaremos como A, B, C, D).\nUna posible forma de repartir los caramelos sería: dar 4 caramelos a Antonio, 3 a Beatriz, 2 a Carlos y 3 a Dionisio. Dado que no importa el orden en que se reparten, podemos representar esta selección como 'AAAABBBCCDDD'. \n\nOtra forma posible de repartir los caramelos podría ser: dar 1 caramelo a Antonio, ninguno a Beatriz y Carlos, y los 11 restantes se los damos a Dionisio. Esta repartición la representamos como\n'ADDDDDDDDDDD'.\n\nRecíprocamente, cualquier serie de 12 letras A, B, C, D se corresponde a una forma de repartir los caramelos. Por ejemplo, la serie 'AAAABBBBBDDD' corresponde a:\nDar 4 caramelos a Antonio, 5 caramelos a Beatriz, ninguno a Carlos y 3 a Dionisio.\n\nDe esta forma, el número de formas de repartir los caramelos es: \n\n$$CR_{4}^{12} = \\binom{4+12-1}{4}$$\n</div>\n\n\n### Variaciones.\n\n**Variaciones**\n\nCon los números $\\{1,2,3\\}$ ¿cuántos números de dos cifras distintas  podemos  formar sin repetir ninguna cifra? \n\nLos podemos escribir\n\n$$12,13,21,23,31,32$$\n\n\nLuego hay seis casos. \n\n### Variaciones (sin repetición).\n\nDenotaremos las variaciones (sin repetición) de $k$ elementos (de orden $k$) de un conjunto de $n$ elementos por $V^n_k$ su valor es \n\n$$\nV_n^k=\\frac{n!}{(n-k)!}=(n-k+1)\\cdot (n-k+2)\\cdots n.\n$$\n\n\nEn nuestro ejemplo  con  $n=3$ dígitos  podemos escribir las siguientes variaciones de orden $k=2$\n\n$$\nV^{k=2}_{n=3}=\\frac{3!}{(3-2)!}=\\frac{1\\cdot 2\\cdot 3}{1}=6.\n$$\n\n<div class=\"exercise\">\n**Ejercicio**\n\nCarga el paquete `gtools` de `R` e investiga la función `permutations(n, r, v, set, repeats.allowed)` para calcular todas las variaciones anteriores.\n</div>\n\n**Variaciones con repetición**\n\n¿Y repitiendo algún dígito? \n\n$$VR_n^k=n^k$$\n\nEfectivamente, en nuestro caso\n\n$$11,12,13,21,22,23,31,32,33$$\n\n$$\nVR^{k=2}_{n=3}=n^k.\n$$\n\n\n### Permutaciones\n\nLas permutaciones de un conjunto de cardinal $n$ son todas las variaciones de orden máximo, $n$.\nLas denotamos y valen:\n\n$$\nP_n=V_n^n=n!\n$$\n\nPor ejemplo, todos los números que se pueden escribir ordenando todos los dígitos $\\{1,2,3\\}$ sin repetir ninguno.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(combinat)\nfor(permutacion in permn(3)) print(permutacion)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1 2 3\n[1] 1 3 2\n[1] 3 1 2\n[1] 3 2 1\n[1] 2 3 1\n[1] 2 1 3\n```\n:::\n:::\n\n\nEfectivamente, \n$$\nP_3=3!=1\\cdot  2\\cdot 3.\n$$\n\n<div class=\"exercise\">\n**Ejercicio**\n\nCarga el paquete `combinat` de `R` e investiga la funcion  `permn` para calcular todas las permutaciones anteriores.\n</div>\n\n<div class=\"exercise\">\n**Ejercicio**\n\nInvestiga el paquete `itertools` y la función `comb` de `scipy.misc` de `Python` e investiga sus funciones para todas las formas de contar que hemos visto en este tema.\n</div>\n\n<div class=\"exercise\">\n**Ejercicio**\n\nLa función gamma de Euler cobrará mucha importancia en el curso de estadística. Comprueba que la función `gamma(x+1)` da el mismo valor que la función `factorial(x)` en `R` para todo $x = \\{1,2,3\\cdots,10\\}$.\n</div>\n\n### Números multinomiales. Permutaciones con repetición. \n\nConsideremos un conjunto de elementos $\\{a_1, a_2, \\ldots, a_k\\}$.\n\nEntoces, si cada uno de los objetos $a_i$ de un conjunto, aparece repetido $n_i$ veces para cada $i$ desde 1 hasta $k$, entonces el número de permutaciones con elementos repetidos es: \n\n$$PR_n^{n_1,n_2,\\ldots,n_k} = {{n}\\choose {n_1\\quad n_2 \\quad\\ldots \\quad n_k}}=\\frac{n!}{n_1!\\cdot n_2!\\cdot \\ldots \\cdot n_k!},$$\ndonde $n=n_1+n_2+\\cdots+n_k$.\n\n<div class=\"example\">\n**Ejemplo**\n\n¿Cuántas palabras diferentes se pueden formar con las letras de la palabra `PROBABILIDAD`?\n\nEl conjunto de letras de la palabra considerada es el siguiente:\n$\\{A, B, D, I, L, O, P, R\\}$ con las repeticiones siguientes: las letras A, B, D, e I, aparecen 2 veces cada una; y las letras L, O, P, R una vez cada una de ellas. \n\nPor tanto, utilizando la fórmula anterior, tenemos que el número de palabras (permutaciones con elementos repetidos) que podemos formar es\n\n$$PR^{2,2,2,2,1,1,1,1}_{12} = \\frac{12!}{(2!)^4(1!)^4} = 29937600.$$\n</div>\n\n## Para acabar\n\n\n### Principios básicos para contar cardinales de conjuntos\n\n**El principio de la suma**\n\nSean $A_1, A_2,\\ldots, A_n$ conjuntos disjuntos dos a dos, es decir $A_i\\cap A_j=\\emptyset$ para todo $i\\not= j$, $i,j=1,2,\\ldots n$. Entonces\n\n$$\\#(\\cup_{i=1}^n A_i)=\\sum_{i=1}^n \\#(A_i).$$\n\n**Principio de unión exclusión**\n\nConsideremos dos conjuntos cualesquiera $A_1, A_2$,  entonces el cardinal de su unión es\n\n$$\\#(A_1\\cup A_2)=\\#(A_1)+\\#(A_2)-\\#(A_1\\cap A_2).$$\n\n**El principio del producto**\n\nSean $A_1,A_2,\\ldots A_n$\n\n$$\n\\begin{array}{ll}\n\\#(A_1\\times A_2\\times \\cdots A_n)=&\\#\\left(\\{(a_1,a_2,\\ldots a_n)| a_i\\in A_i, i=1,2,\\ldots n\\}\\right)\\\\\n&=\\prod_{i=1}^n \\#(A_i).\n\\end{array}\n$$\n\n\n## Otros aspectos a tener en cuenta\n\nEvidentemente, nos hemos dejado muchas otras propiedades básicas de Teoría de Conjuntos y de Combinatoria como: \n\n* Propiedades de los números combinatorios.\n* Binomio de Newton.\n* Multinomio de Newton.\n\nSi nos son necesarias las volveremos a repetir a lo largo del curso o  bien daremos enlaces para que las podáis estudiar en paralelo.\n\n<div class=\"exercise\"> \n**Nota**\n\nPuedes repasar todos esos conceptos con ejercicios y más en el [Curso de estadística descriptiva con `R` y `Python`](https://www.udemy.com/course/estadistica-descriptiva?couponCode=JB_PROMO_OFF) con M. Santos y J.G. Gomila.\n</div>\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}